
% Default to the notebook output style

    


% Inherit from the specified cell style.




    
\documentclass[11pt]{article}

    
    
    \usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size 
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range 
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    

    
    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}
    
    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    
    
    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatability definitions
    \def\gt{>}
    \def\lt{<}
    % Document parameters
    \title{FP-growth and K-Means}
    
    
    

    % Pygments definitions
    
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}



    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy 
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

    \begin{document}
    
    
    \maketitle
    
    

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}11}]:} \PY{c+ch}{\PYZsh{}!/usr/bin/env python}
         
         \PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
         \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
         \PY{k+kn}{from} \PY{n+nn}{collections} \PY{k}{import} \PY{n}{Counter}
         \PY{k+kn}{import} \PY{n+nn}{warnings}
         
         \PY{n}{warnings}\PY{o}{.}\PY{n}{filterwarnings}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ignore}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{k}{class} \PY{n+nc}{treeNode}\PY{p}{:}
             \PY{k}{def} \PY{n+nf}{\PYZus{}\PYZus{}init\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{nameValue}\PY{p}{,} \PY{n}{numOccur}\PY{p}{,} \PY{n}{parentNode}\PY{p}{)}\PY{p}{:}
                 \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{name} \PY{o}{=} \PY{n}{nameValue}
                 \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{count} \PY{o}{=} \PY{n}{numOccur}
                 \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{nodeLink} \PY{o}{=} \PY{k+kc}{None}
                 \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{parent} \PY{o}{=} \PY{n}{parentNode}      \PY{c+c1}{\PYZsh{}needs to be updated}
                 \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{children} \PY{o}{=} \PY{p}{\PYZob{}}\PY{p}{\PYZcb{}}
         
             \PY{k}{def} \PY{n+nf}{inc}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{numOccur}\PY{p}{)}\PY{p}{:}
                 \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{count} \PY{o}{+}\PY{o}{=} \PY{n}{numOccur}
         
             \PY{k}{def} \PY{n+nf}{disp}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{ind}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{:}
                 \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{  }\PY{l+s+s1}{\PYZsq{}}\PY{o}{*}\PY{n}{ind}\PY{p}{,} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{name}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ }\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{count}\PY{p}{)}
                 \PY{k}{for} \PY{n}{child} \PY{o+ow}{in} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{children}\PY{o}{.}\PY{n}{values}\PY{p}{(}\PY{p}{)}\PY{p}{:}
                     \PY{n}{child}\PY{o}{.}\PY{n}{disp}\PY{p}{(}\PY{n}{ind}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{)}
         
         \PY{k}{def} \PY{n+nf}{createTree}\PY{p}{(}\PY{n}{dataSet}\PY{p}{,} \PY{n}{minSup}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{:} \PY{c+c1}{\PYZsh{}create FP\PYZhy{}tree from dataset but don\PYZsq{}t mine}
             \PY{c+c1}{\PYZsh{}numCounter = \PYZob{}\PYZcb{}}
             \PY{n}{headerTable} \PY{o}{=} \PY{p}{\PYZob{}}\PY{p}{\PYZcb{}}
             \PY{c+c1}{\PYZsh{}go over dataSet twice}
             \PY{k}{for} \PY{n}{trans} \PY{o+ow}{in} \PY{n}{dataSet}\PY{p}{:}\PY{c+c1}{\PYZsh{}first pass counts frequency of occurance}
                 \PY{n}{headerTable} \PY{o}{=} \PY{n+nb}{dict}\PY{p}{(}\PY{n}{Counter}\PY{p}{(}\PY{n}{headerTable}\PY{p}{)} \PY{o}{+} \PY{n}{Counter}\PY{p}{(}\PY{n}{trans}\PY{p}{)}\PY{p}{)}
             \PY{c+c1}{\PYZsh{}headerTableCopy = headerTable.copy()}
         
             \PY{n}{freqItemCounter} \PY{o}{=} \PY{p}{\PYZob{}}\PY{n}{k}\PY{p}{:} \PY{n}{v} \PY{k}{for} \PY{n}{k}\PY{p}{,} \PY{n}{v} \PY{o+ow}{in} \PY{n}{headerTable}\PY{o}{.}\PY{n}{items}\PY{p}{(}\PY{p}{)} \PY{k}{if} \PY{n}{v} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{n}{minSup}\PY{p}{\PYZcb{}}
         
             \PY{n}{freqItemSet} \PY{o}{=} \PY{n+nb}{set}\PY{p}{(}\PY{n}{freqItemCounter}\PY{o}{.}\PY{n}{keys}\PY{p}{(}\PY{p}{)}\PY{p}{)}
         
             \PY{c+c1}{\PYZsh{}print \PYZsq{}freqItemSet: \PYZsq{},freqItemSet}
         
             \PY{k}{if} \PY{n+nb}{len}\PY{p}{(}\PY{n}{freqItemSet}\PY{p}{)} \PY{o}{==} \PY{l+m+mi}{0}\PY{p}{:} \PY{k}{return} \PY{k+kc}{None}\PY{p}{,} \PY{k+kc}{None}  \PY{c+c1}{\PYZsh{}if no items meet min support \PYZhy{}\PYZhy{}\PYZgt{}get out}
         
             \PY{k}{for} \PY{n}{k} \PY{o+ow}{in} \PY{n}{headerTable}\PY{p}{:}
                 \PY{n}{headerTable}\PY{p}{[}\PY{n}{k}\PY{p}{]} \PY{o}{=} \PY{p}{[}\PY{n}{headerTable}\PY{p}{[}\PY{n}{k}\PY{p}{]}\PY{p}{,} \PY{k+kc}{None}\PY{p}{]} \PY{c+c1}{\PYZsh{}reformat headerTable to use Node link}
             \PY{c+c1}{\PYZsh{}print \PYZsq{}headerTable: \PYZsq{},headerTable}
             \PY{n}{retTree} \PY{o}{=} \PY{n}{treeNode}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Null Set}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{,} \PY{k+kc}{None}\PY{p}{)} \PY{c+c1}{\PYZsh{}create tree}
             \PY{k}{for} \PY{n}{tranSet}\PY{p}{,} \PY{n}{count} \PY{o+ow}{in} \PY{n}{dataSet}\PY{o}{.}\PY{n}{items}\PY{p}{(}\PY{p}{)}\PY{p}{:}  \PY{c+c1}{\PYZsh{}go through dataset 2nd time}
                 \PY{n}{localD} \PY{o}{=} \PY{p}{\PYZob{}}\PY{p}{\PYZcb{}}
                 \PY{k}{for} \PY{n}{item} \PY{o+ow}{in} \PY{n}{tranSet}\PY{p}{:}  \PY{c+c1}{\PYZsh{}put transaction items in order}
                     \PY{k}{if} \PY{n}{item} \PY{o+ow}{in} \PY{n}{freqItemSet}\PY{p}{:}
                         \PY{n}{localD}\PY{p}{[}\PY{n}{item}\PY{p}{]} \PY{o}{=} \PY{n}{headerTable}\PY{p}{[}\PY{n}{item}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}
                 \PY{k}{if} \PY{n+nb}{len}\PY{p}{(}\PY{n}{localD}\PY{p}{)} \PY{o}{\PYZgt{}} \PY{l+m+mi}{0}\PY{p}{:}
                     \PY{n}{orderedItems} \PY{o}{=} \PY{p}{[}\PY{n}{v}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{k}{for} \PY{n}{v} \PY{o+ow}{in} \PY{n+nb}{sorted}\PY{p}{(}\PY{n}{localD}\PY{o}{.}\PY{n}{items}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{key}\PY{o}{=}\PY{k}{lambda} \PY{n}{p}\PY{p}{:} \PY{n}{p}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,} \PY{n}{reverse}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}\PY{p}{]}
                     \PY{n}{updateTree}\PY{p}{(}\PY{n}{orderedItems}\PY{p}{,} \PY{n}{retTree}\PY{p}{,} \PY{n}{headerTable}\PY{p}{,} \PY{n}{count}\PY{p}{)}\PY{c+c1}{\PYZsh{}populate tree with ordered freq itemset}
             \PY{k}{return} \PY{n}{retTree}\PY{p}{,} \PY{n}{headerTable} \PY{c+c1}{\PYZsh{}return tree and header table}
         
         \PY{k}{def} \PY{n+nf}{updateTree}\PY{p}{(}\PY{n}{items}\PY{p}{,} \PY{n}{inTree}\PY{p}{,} \PY{n}{headerTable}\PY{p}{,} \PY{n}{count}\PY{p}{)}\PY{p}{:}
             \PY{k}{if} \PY{n}{items}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{o+ow}{in} \PY{n}{inTree}\PY{o}{.}\PY{n}{children}\PY{p}{:}\PY{c+c1}{\PYZsh{}check if orderedItems[0] in retTree.children}
                 \PY{n}{inTree}\PY{o}{.}\PY{n}{children}\PY{p}{[}\PY{n}{items}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{inc}\PY{p}{(}\PY{n}{count}\PY{p}{)} \PY{c+c1}{\PYZsh{}incrament count}
             \PY{k}{else}\PY{p}{:}   \PY{c+c1}{\PYZsh{}add items[0] to inTree.children}
                 \PY{n}{inTree}\PY{o}{.}\PY{n}{children}\PY{p}{[}\PY{n}{items}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{]} \PY{o}{=} \PY{n}{treeNode}\PY{p}{(}\PY{n}{items}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{count}\PY{p}{,} \PY{n}{inTree}\PY{p}{)}
                 \PY{k}{if} \PY{n}{headerTable}\PY{p}{[}\PY{n}{items}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]} \PY{o}{==} \PY{k+kc}{None}\PY{p}{:} \PY{c+c1}{\PYZsh{}update header table}
                     \PY{n}{headerTable}\PY{p}{[}\PY{n}{items}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]} \PY{o}{=} \PY{n}{inTree}\PY{o}{.}\PY{n}{children}\PY{p}{[}\PY{n}{items}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{]}
                 \PY{k}{else}\PY{p}{:}
                     \PY{n}{updateHeader}\PY{p}{(}\PY{n}{headerTable}\PY{p}{[}\PY{n}{items}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,} \PY{n}{inTree}\PY{o}{.}\PY{n}{children}\PY{p}{[}\PY{n}{items}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{]}\PY{p}{)}
             \PY{k}{if} \PY{n+nb}{len}\PY{p}{(}\PY{n}{items}\PY{p}{)} \PY{o}{\PYZgt{}} \PY{l+m+mi}{1}\PY{p}{:}\PY{c+c1}{\PYZsh{}call updateTree() with remaining ordered items}
                 \PY{n}{updateTree}\PY{p}{(}\PY{n}{items}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{:}\PY{p}{]}\PY{p}{,} \PY{n}{inTree}\PY{o}{.}\PY{n}{children}\PY{p}{[}\PY{n}{items}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{headerTable}\PY{p}{,} \PY{n}{count}\PY{p}{)}
         
         \PY{k}{def} \PY{n+nf}{updateHeader}\PY{p}{(}\PY{n}{nodeToTest}\PY{p}{,} \PY{n}{targetNode}\PY{p}{)}\PY{p}{:}   \PY{c+c1}{\PYZsh{}this version does not use recursion}
             \PY{k}{while} \PY{p}{(}\PY{n}{nodeToTest}\PY{o}{.}\PY{n}{nodeLink} \PY{o}{!=} \PY{k+kc}{None}\PY{p}{)}\PY{p}{:}    \PY{c+c1}{\PYZsh{}Do not use recursion to traverse a linked list!}
                 \PY{n}{nodeToTest} \PY{o}{=} \PY{n}{nodeToTest}\PY{o}{.}\PY{n}{nodeLink}
             \PY{n}{nodeToTest}\PY{o}{.}\PY{n}{nodeLink} \PY{o}{=} \PY{n}{targetNode}
         
         \PY{k}{def} \PY{n+nf}{ascendTree}\PY{p}{(}\PY{n}{leafNode}\PY{p}{,} \PY{n}{prefixPath}\PY{p}{)}\PY{p}{:} \PY{c+c1}{\PYZsh{}ascends from leaf node to root}
             \PY{k}{if} \PY{n}{leafNode}\PY{o}{.}\PY{n}{parent} \PY{o}{!=} \PY{k+kc}{None}\PY{p}{:}
                 \PY{n}{prefixPath}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{leafNode}\PY{o}{.}\PY{n}{name}\PY{p}{)}
                 \PY{n}{ascendTree}\PY{p}{(}\PY{n}{leafNode}\PY{o}{.}\PY{n}{parent}\PY{p}{,} \PY{n}{prefixPath}\PY{p}{)}
         
         \PY{k}{def} \PY{n+nf}{findPrefixPath}\PY{p}{(}\PY{n}{basePat}\PY{p}{,} \PY{n}{treeNode}\PY{p}{)}\PY{p}{:} \PY{c+c1}{\PYZsh{}treeNode comes from header table}
             \PY{n}{condPats} \PY{o}{=} \PY{p}{\PYZob{}}\PY{p}{\PYZcb{}}
             \PY{k}{while} \PY{n}{treeNode} \PY{o}{!=} \PY{k+kc}{None}\PY{p}{:}
                 \PY{n}{prefixPath} \PY{o}{=} \PY{p}{[}\PY{p}{]}
                 \PY{n}{ascendTree}\PY{p}{(}\PY{n}{treeNode}\PY{p}{,} \PY{n}{prefixPath}\PY{p}{)}
                 \PY{k}{if} \PY{n+nb}{len}\PY{p}{(}\PY{n}{prefixPath}\PY{p}{)} \PY{o}{\PYZgt{}} \PY{l+m+mi}{1}\PY{p}{:}
                     \PY{n}{condPats}\PY{p}{[}\PY{n+nb}{frozenset}\PY{p}{(}\PY{n}{prefixPath}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}\PY{p}{]} \PY{o}{=} \PY{n}{treeNode}\PY{o}{.}\PY{n}{count}
                 \PY{n}{treeNode} \PY{o}{=} \PY{n}{treeNode}\PY{o}{.}\PY{n}{nodeLink}
             \PY{k}{return} \PY{n}{condPats}
         
         \PY{k}{def} \PY{n+nf}{loadData}\PY{p}{(}\PY{p}{)}\PY{p}{:}
             \PY{n}{data} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{../FP\PYZus{}data/retail.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{sep}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{warn\PYZus{}bad\PYZus{}lines}\PY{o}{=}\PY{k+kc}{False}\PY{p}{,}\PY{n}{error\PYZus{}bad\PYZus{}lines}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
             \PY{n}{data} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{sample}\PY{p}{(}\PY{n}{n}\PY{o}{=}\PY{l+m+mi}{100}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{drop}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
             \PY{n}{data} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{values}
             \PY{n}{new\PYZus{}data} \PY{o}{=} \PY{p}{[}\PY{p}{]}
             \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{shape}\PY{p}{(}\PY{n}{data}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}\PY{p}{:}
                 \PY{n}{new\PYZus{}data}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{data}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{data}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{)}\PY{p}{]}\PY{p}{)}
             \PY{k}{return} \PY{n}{new\PYZus{}data}
         
         \PY{k}{def} \PY{n+nf}{createInitSet}\PY{p}{(}\PY{n}{dataSet}\PY{p}{)}\PY{p}{:}
             \PY{n}{retDict} \PY{o}{=} \PY{p}{\PYZob{}}\PY{p}{\PYZcb{}}
             \PY{k}{for} \PY{n}{trans} \PY{o+ow}{in} \PY{n}{dataSet}\PY{p}{:}
                 \PY{n}{retDict}\PY{p}{[}\PY{n+nb}{frozenset}\PY{p}{(}\PY{n}{trans}\PY{p}{)}\PY{p}{]} \PY{o}{=} \PY{l+m+mi}{1}
             \PY{k}{return} \PY{n}{retDict}
         \PY{k}{def} \PY{n+nf}{mineTree}\PY{p}{(}\PY{n}{inTree}\PY{p}{,} \PY{n}{headerTable}\PY{p}{,} \PY{n}{minSup}\PY{p}{,} \PY{n}{preFix}\PY{p}{,} \PY{n}{freqItemList}\PY{p}{)}\PY{p}{:}
             \PY{n}{bigL} \PY{o}{=} \PY{p}{[}\PY{n}{v}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{k}{for} \PY{n}{v} \PY{o+ow}{in} \PY{n+nb}{sorted}\PY{p}{(}\PY{n}{headerTable}\PY{o}{.}\PY{n}{items}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{key}\PY{o}{=}\PY{k}{lambda} \PY{n}{p}\PY{p}{:} \PY{n}{p}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}\PY{p}{]}\PY{c+c1}{\PYZsh{}(sort header table)}
             \PY{k}{for} \PY{n}{basePat} \PY{o+ow}{in} \PY{n}{bigL}\PY{p}{:}  \PY{c+c1}{\PYZsh{}start from bottom of header table}
                 \PY{n}{newFreqSet} \PY{o}{=} \PY{n}{preFix}\PY{o}{.}\PY{n}{copy}\PY{p}{(}\PY{p}{)}
                 \PY{n}{newFreqSet}\PY{o}{.}\PY{n}{add}\PY{p}{(}\PY{n}{basePat}\PY{p}{)}
                 \PY{c+c1}{\PYZsh{}print \PYZsq{}finalFrequent Item: \PYZsq{},newFreqSet    \PYZsh{}append to set}
                 \PY{n}{freqItemList}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{newFreqSet}\PY{p}{)}
                 \PY{n}{condPattBases} \PY{o}{=} \PY{n}{findPrefixPath}\PY{p}{(}\PY{n}{basePat}\PY{p}{,} \PY{n}{headerTable}\PY{p}{[}\PY{n}{basePat}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}
                 \PY{c+c1}{\PYZsh{}print \PYZsq{}condPattBases :\PYZsq{},basePat, condPattBases}
                 \PY{c+c1}{\PYZsh{}2. construct cond FP\PYZhy{}tree from cond. pattern base}
                 \PY{n}{myCondTree}\PY{p}{,} \PY{n}{myHead} \PY{o}{=} \PY{n}{createTree}\PY{p}{(}\PY{n}{condPattBases}\PY{p}{,} \PY{n}{minSup}\PY{p}{)}
                 \PY{c+c1}{\PYZsh{}print \PYZsq{}head from conditional tree: \PYZsq{}, myHead}
                 \PY{k}{if} \PY{n}{myHead} \PY{o}{!=} \PY{k+kc}{None}\PY{p}{:} \PY{c+c1}{\PYZsh{}3. mine cond. FP\PYZhy{}tree}
                     \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{conditional tree for: }\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{newFreqSet}\PY{p}{)}
                     \PY{c+c1}{\PYZsh{}myCondTree.disp(1)            }
                     \PY{n}{mineTree}\PY{p}{(}\PY{n}{myCondTree}\PY{p}{,} \PY{n}{myHead}\PY{p}{,} \PY{n}{minSup}\PY{p}{,} \PY{n}{newFreqSet}\PY{p}{,} \PY{n}{freqItemList}\PY{p}{)}
                     
         \PY{k}{if} \PY{n+nv+vm}{\PYZus{}\PYZus{}name\PYZus{}\PYZus{}} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZus{}\PYZus{}main\PYZus{}\PYZus{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}
             \PY{n}{minSup} \PY{o}{=} \PY{l+m+mi}{2}
             \PY{n}{data} \PY{o}{=} \PY{n}{loadData}\PY{p}{(}\PY{p}{)}
             \PY{n}{initSet} \PY{o}{=} \PY{n}{createInitSet}\PY{p}{(}\PY{n}{data}\PY{p}{)}
             \PY{n}{myFPtree}\PY{p}{,} \PY{n}{myHeaderTab} \PY{o}{=} \PY{n}{createTree}\PY{p}{(}\PY{n}{initSet}\PY{p}{,} \PY{n}{minSup}\PY{p}{)}
             \PY{n}{myFPtree}\PY{o}{.}\PY{n}{disp}\PY{p}{(}\PY{p}{)}
             \PY{n}{myFreqList} \PY{o}{=} \PY{p}{[}\PY{p}{]}
             \PY{n}{mineTree}\PY{p}{(}\PY{n}{myFPtree}\PY{p}{,} \PY{n}{myHeaderTab}\PY{p}{,} \PY{n}{minSup}\PY{p}{,} \PY{n+nb}{set}\PY{p}{(}\PY{p}{[}\PY{p}{]}\PY{p}{)}\PY{p}{,} \PY{n}{myFreqList}\PY{p}{)}
             \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Well done}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
   Null Set   1
     39.0   62
       48.0   40
         38.0   10
           161.0   1
             2437.0   1
               47.0   1
                 371.0   1
           1218.0   1
           41.0   4
             544.0   1
               9191.0   1
                 790.0   1
                   475.0   1
             2792.0   1
               11.0   1
                 31.0   1
             2958.0   1
               3476.0   1
                 36.0   1
                   449.0   1
                     10571.0   1
             147.0   1
               426.0   1
                 47.0   1
                   319.0   1
                     1218.0   1
                       10571.0   1
                         3553.0   1
                           1277.0   1
                             382.0   1
           1393.0   1
             2624.0   1
               824.0   1
                 4220.0   1
           286.0   1
           110.0   1
           1214.0   1
             286.0   1
               1196.0   1
                 1594.0   1
         41.0   8
           544.0   2
             426.0   1
               297.0   1
                 3476.0   1
           65.0   1
             2208.0   1
               264.0   1
                 13041.0   1
                   3101.0   1
           475.0   1
           2208.0   1
             2792.0   1
               10506.0   1
                 243.0   1
                   3931.0   1
                     3101.0   1
           772.0   1
           846.0   1
             94.0   1
           2080.0   1
         101.0   1
           785.0   1
         32.0   7
           41.0   2
             201.0   1
               19.0   1
                 547.0   1
                   824.0   1
                     766.0   1
           89.0   2
             548.0   1
               1897.0   1
                 10506.0   1
                   123.0   1
             258.0   1
           1425.0   1
           271.0   1
             604.0   1
         1215.0   1
         1185.0   1
           1479.0   1
         242.0   1
           346.0   1
             1145.0   1
               382.0   1
         2624.0   1
           2201.0   1
         147.0   1
           1393.0   1
             1327.0   1
               346.0   1
                 11.0   1
         1578.0   1
           1135.0   1
         89.0   1
           242.0   1
             4336.0   1
         1479.0   1
           2388.0   1
             1215.0   1
         12929.0   1
           258.0   1
             13041.0   1
               243.0   1
                 1619.0   1
         19.0   1
           604.0   1
         297.0   1
           3931.0   1
             2909.0   1
         544.0   1
           1704.0   1
             697.0   1
         449.0   1
           547.0   1
             2437.0   1
               155.0   1
                 3293.0   1
       772.0   1
       32.0   2
         2538.0   1
           1425.0   1
         38.0   1
           41.0   1
             201.0   1
               1327.0   1
                 286.0   1
       16010.0   1
       38.0   4
         65.0   1
           161.0   1
             790.0   1
         271.0   1
           36.0   1
             2388.0   1
               1145.0   1
                 156.0   1
         1327.0   1
           37.0   1
         41.0   1
           19.0   1
             3293.0   1
       101.0   1
         2080.0   1
           1185.0   1
       1214.0   1
       89.0   1
       3561.0   1
         110.0   1
       41.0   1
         4336.0   1
           220.0   1
             2238.0   1
       1277.0   1
       548.0   1
         549.0   1
       413.0   1
       12925.0   1
       225.0   1
         1135.0   1
       1018.0   1
       549.0   1
         1018.0   1
           156.0   1
     48.0   15
       147.0   1
         346.0   1
           12925.0   1
             278.0   1
               3553.0   1
       704.0   1
       32.0   3
         846.0   1
           2325.0   1
         1393.0   1
           101.0   1
             2325.0   1
               4220.0   1
         89.0   1
           704.0   1
             12929.0   1
               9191.0   1
                 16217.0   1
       89.0   1
         413.0   1
           31.0   1
       514.0   1
       38.0   1
         1214.0   1
           2538.0   1
             2958.0   1
               371.0   1
                 2238.0   1
       41.0   1
         271.0   1
           225.0   1
             681.0   1
               697.0   1
                 319.0   1
       225.0   1
       4393.0   1
       16010.0   1
         1619.0   1
           766.0   1
       3561.0   1
     1393.0   1
       278.0   1
         2201.0   1
           1594.0   1
             94.0   1
               2909.0   1
                 1897.0   1
                   123.0   1
     38.0   2
       1704.0   1
         1578.0   1
     264.0   1
       1196.0   1
     32.0   8
       41.0   1
         65.0   1
           201.0   1
             260.0   1
               4393.0   1
       4344.0   2
       38.0   1
         147.0   1
           12925.0   1
             37.0   1
       220.0   1
       155.0   1
     65.0   3
       514.0   1
         260.0   1
           681.0   1
     242.0   1
       785.0   1
         16217.0   1
conditional tree for:  \{11.0\}
conditional tree for:  \{19.0\}
conditional tree for:  \{48.0, 19.0\}
conditional tree for:  \{31.0\}
conditional tree for:  \{32.0\}
conditional tree for:  \{36.0\}
conditional tree for:  \{37.0\}
conditional tree for:  \{38.0\}
conditional tree for:  \{41.0\}
conditional tree for:  \{32.0, 41.0\}
conditional tree for:  \{41.0, 38.0\}
conditional tree for:  \{47.0\}
conditional tree for:  \{65.0\}
conditional tree for:  \{89.0\}
conditional tree for:  \{32.0, 89.0\}
conditional tree for:  \{101.0\}
conditional tree for:  \{110.0\}
conditional tree for:  \{123.0\}
conditional tree for:  \{147.0\}
conditional tree for:  \{147.0, 39.0\}
conditional tree for:  \{156.0\}
conditional tree for:  \{161.0\}
conditional tree for:  \{201.0\}
conditional tree for:  \{225.0\}
conditional tree for:  \{242.0\}
conditional tree for:  \{243.0\}
conditional tree for:  \{258.0\}
conditional tree for:  \{260.0\}
conditional tree for:  \{271.0\}
conditional tree for:  \{286.0\}
conditional tree for:  \{297.0\}
conditional tree for:  \{319.0\}
conditional tree for:  \{346.0\}
conditional tree for:  \{346.0, 147.0\}
conditional tree for:  \{371.0\}
conditional tree for:  \{382.0\}
conditional tree for:  \{426.0\}
conditional tree for:  \{48.0, 426.0\}
conditional tree for:  \{449.0\}
conditional tree for:  \{475.0\}
conditional tree for:  \{544.0\}
conditional tree for:  \{547.0\}
conditional tree for:  \{548.0\}
conditional tree for:  \{549.0\}
conditional tree for:  \{604.0\}
conditional tree for:  \{697.0\}
conditional tree for:  \{704.0\}
conditional tree for:  \{766.0\}
conditional tree for:  \{772.0\}
conditional tree for:  \{790.0\}
conditional tree for:  \{824.0\}
conditional tree for:  \{846.0\}
conditional tree for:  \{1018.0\}
conditional tree for:  \{1135.0\}
conditional tree for:  \{1145.0\}
conditional tree for:  \{1185.0\}
conditional tree for:  \{1214.0\}
conditional tree for:  \{1215.0\}
conditional tree for:  \{1218.0\}
conditional tree for:  \{1218.0, 39.0\}
conditional tree for:  \{1277.0\}
conditional tree for:  \{1327.0\}
conditional tree for:  \{1393.0\}
conditional tree for:  \{1425.0\}
conditional tree for:  \{1479.0\}
conditional tree for:  \{1619.0\}
conditional tree for:  \{2080.0\}
conditional tree for:  \{2208.0\}
conditional tree for:  \{2208.0, 39.0\}
conditional tree for:  \{2208.0, 41.0\}
conditional tree for:  \{2325.0\}
conditional tree for:  \{2388.0\}
conditional tree for:  \{2437.0\}
conditional tree for:  \{2624.0\}
conditional tree for:  \{2792.0\}
conditional tree for:  \{2958.0\}
conditional tree for:  \{3101.0\}
conditional tree for:  \{3293.0\}
conditional tree for:  \{3476.0\}
conditional tree for:  \{3553.0\}
conditional tree for:  \{3931.0\}
conditional tree for:  \{4220.0\}
conditional tree for:  \{4336.0\}
conditional tree for:  \{9191.0\}
conditional tree for:  \{10506.0\}
conditional tree for:  \{10571.0\}
conditional tree for:  \{12925.0\}
conditional tree for:  \{12929.0\}
conditional tree for:  \{13041.0\}
Well done

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}13}]:} \PY{c+ch}{\PYZsh{}!/usr/bin/env python}
         \PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
         \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
         
         
         \PY{k}{def} \PY{n+nf}{loadData}\PY{p}{(}\PY{p}{)}\PY{p}{:}
             \PY{n}{data} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{../Kmeans数据集/Sales\PYZus{}Transactions\PYZus{}Dataset\PYZus{}Weekly.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
             \PY{n}{newData} \PY{o}{=} \PY{n}{data}\PY{p}{[}\PY{n}{data}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{55}\PY{p}{:}\PY{p}{]}\PY{p}{]}
             \PY{n}{labelData} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Product\PYZus{}Code}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
             \PY{c+c1}{\PYZsh{}new\PYZus{}data = pd.concat([data[data.columns[55:]],data[\PYZsq{}Product\PYZus{}Code\PYZsq{}]],axis=1)}
             \PY{k}{return} \PY{n}{newData}\PY{p}{,} \PY{n}{labelData}
         
         \PY{k}{def} \PY{n+nf}{distEclud}\PY{p}{(}\PY{n}{vecA}\PY{p}{,} \PY{n}{vecB}\PY{p}{)}\PY{p}{:}
             \PY{k}{return} \PY{n}{np}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{n+nb}{sum}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{power}\PY{p}{(}\PY{n+nb}{list}\PY{p}{(}\PY{n+nb}{map}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n}{x}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{o}{\PYZhy{}}\PY{n}{x}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,} \PY{n+nb}{zip}\PY{p}{(}\PY{n}{vecA}\PY{p}{,} \PY{n}{vecB}\PY{p}{)}\PY{p}{)}\PY{p}{)}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}\PY{p}{)}\PY{p}{)} \PY{c+c1}{\PYZsh{}la.norm(vecA\PYZhy{}vecB)}
         
         \PY{k}{def} \PY{n+nf}{randCent}\PY{p}{(}\PY{n}{dataSet}\PY{p}{,} \PY{n}{k}\PY{p}{)}\PY{p}{:}
             \PY{n}{m} \PY{o}{=} \PY{n}{dataSet}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}
             \PY{n}{centroids} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{mat}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{random}\PY{o}{.}\PY{n}{random}\PY{p}{(}\PY{p}{(}\PY{n}{k}\PY{p}{,}\PY{n}{m}\PY{p}{)}\PY{p}{)}\PY{p}{)}\PY{c+c1}{\PYZsh{}create centroid mat}
             \PY{k}{return} \PY{n}{centroids}
         
         \PY{k}{def} \PY{n+nf}{kMeans}\PY{p}{(}\PY{n}{dataSet}\PY{p}{,} \PY{n}{labelData}\PY{p}{,} \PY{n}{k}\PY{p}{,} \PY{n}{distMeas}\PY{o}{=}\PY{n}{distEclud}\PY{p}{,} \PY{n}{createCent}\PY{o}{=}\PY{n}{randCent}\PY{p}{)}\PY{p}{:}
             \PY{n}{m} \PY{o}{=} \PY{n}{dataSet}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{c+c1}{\PYZsh{}样本数}
             \PY{n}{clusterAssment} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{mat}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{zeros}\PY{p}{(}\PY{p}{(}\PY{n}{m}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{)}\PY{p}{)}\PY{p}{)} \PY{c+c1}{\PYZsh{}m*2的矩阵}
             \PY{n}{clusterAssment} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{clusterAssment}\PY{p}{)}
             \PY{n}{clusterAssment}\PY{o}{.}\PY{n}{columns} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{point}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dist}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             \PY{n}{centroids} \PY{o}{=} \PY{n}{createCent}\PY{p}{(}\PY{n}{dataSet}\PY{p}{,} \PY{n}{k}\PY{p}{)} \PY{c+c1}{\PYZsh{}初始化k个中心}
             \PY{n}{clusterChanged} \PY{o}{=} \PY{k+kc}{True}
             \PY{k}{while} \PY{n}{clusterChanged}\PY{p}{:}      \PY{c+c1}{\PYZsh{}当聚类不再变化}
                 \PY{n}{clusterChanged} \PY{o}{=} \PY{k+kc}{False}
                 \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{m}\PY{p}{)}\PY{p}{:}
                     \PY{n}{minDist} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{inf}\PY{p}{;} \PY{n}{minLabel} \PY{o}{=} \PY{o}{\PYZhy{}}\PY{l+m+mi}{1}
                     \PY{k}{for} \PY{n}{j} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{k}\PY{p}{)}\PY{p}{:} \PY{c+c1}{\PYZsh{}找到最近的质心}
                         \PY{n}{distJI} \PY{o}{=} \PY{n}{distMeas}\PY{p}{(}\PY{n}{centroids}\PY{p}{[}\PY{n}{j}\PY{p}{,}\PY{p}{:}\PY{p}{]}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,}\PY{n}{dataSet}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}\PY{p}{)}
                         \PY{k}{if} \PY{n}{distJI} \PY{o}{\PYZlt{}} \PY{n}{minDist}\PY{p}{:}
                             \PY{n}{minDist} \PY{o}{=} \PY{n}{distJI}
                             \PY{n}{minLabel} \PY{o}{=} \PY{n}{j}
                     \PY{k}{if} \PY{n}{clusterAssment}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n}{i}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{]} \PY{o}{!=} \PY{n}{minLabel}\PY{p}{:}
                         \PY{n}{clusterChanged} \PY{o}{=} \PY{k+kc}{True}
                     \PY{c+c1}{\PYZsh{} 第1列为所属质心，第2列为距离}
                     \PY{n}{clusterAssment}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,}\PY{p}{:}\PY{p}{]} \PY{o}{=} \PY{n}{minLabel}\PY{p}{,}\PY{n}{minDist}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2}
                 \PY{c+c1}{\PYZsh{}print(centroids)}
                 \PY{c+c1}{\PYZsh{} 更改质心位置}
                 \PY{k}{for} \PY{n}{cent} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{k}\PY{p}{)}\PY{p}{:}
                     \PY{n}{ptsInClust} \PY{o}{=} \PY{n}{dataSet}\PY{p}{[}\PY{n}{clusterAssment}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{point}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{==}\PY{n}{cent}\PY{p}{]}
                     \PY{n}{centroids}\PY{p}{[}\PY{n}{cent}\PY{p}{,}\PY{p}{:}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{n}{ptsInClust}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}
             \PY{k}{return} \PY{n}{centroids}\PY{p}{,} \PY{n}{clusterAssment}
         
         
         
         \PY{k}{if} \PY{n+nv+vm}{\PYZus{}\PYZus{}name\PYZus{}\PYZus{}} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZus{}\PYZus{}main\PYZus{}\PYZus{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}
             \PY{n}{k} \PY{o}{=} \PY{l+m+mi}{10}
             \PY{n}{dataSet}\PY{p}{,} \PY{n}{labelData} \PY{o}{=} \PY{n}{loadData}\PY{p}{(}\PY{p}{)}
             \PY{n}{centroids}\PY{p}{,} \PY{n}{clusterAssment} \PY{o}{=} \PY{n}{kMeans}\PY{p}{(}\PY{n}{dataSet}\PY{p}{,} \PY{n}{labelData}\PY{p}{,} \PY{n}{k}\PY{p}{,} \PY{n}{distMeas}\PY{o}{=}\PY{n}{distEclud}\PY{p}{,} \PY{n}{createCent}\PY{o}{=}\PY{n}{randCent}\PY{p}{)}
             \PY{n+nb}{print}\PY{p}{(}\PY{n}{clusterAssment}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
     point      dist
0      4.0  2.135655
1      2.0  2.507844
2      5.0  3.948026
3      0.0  2.431614
4      0.0  2.180291
5      9.0  2.420109
6      2.0  2.187374
7      4.0  2.766835
8      4.0  2.532766
9      4.0  1.939960
10     4.0  2.805989
11     4.0  2.274907
12     5.0  1.921003
13     9.0  1.401823
14     5.0  1.943853
15     3.0  1.753892
16     5.0  1.780356
17     3.0  2.065607
18     3.0  2.134785
19     4.0  1.681732
20     3.0  2.436182
21     5.0  2.110112
22     5.0  1.929387
23     5.0  1.679108
24     3.0  1.731958
25     9.0  1.928009
26     3.0  2.531954
27     5.0  2.398515
28     2.0  1.378491
29     5.0  2.315403
..     {\ldots}       {\ldots}
781    0.0  1.912343
782    0.0  2.216438
783    0.0  5.863897
784    7.0  2.441446
785    6.0  1.847007
786    6.0  2.833351
787    0.0  1.944035
788    9.0  1.908900
789    0.0  3.045302
790    9.0  1.757310
791    7.0  2.446926
792    7.0  1.012692
793    6.0  2.815757
794    9.0  2.155740
795    9.0  2.581879
796    0.0  2.340394
797    9.0  2.839717
798    7.0  2.023312
799    7.0  0.893471
800    7.0  2.895096
801    6.0  3.123578
802    0.0  1.994678
803    7.0  2.022076
804    0.0  2.175795
805    0.0  1.280528
806    6.0  3.408188
807    7.0  4.169853
808    6.0  1.673161
809    6.0  3.960949
810    1.0  2.822259

[811 rows x 2 columns]

    \end{Verbatim}


    % Add a bibliography block to the postdoc
    
    
    
    \end{document}
